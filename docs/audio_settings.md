# 音频设置界面状态说明

## 状态流程

音频设置界面包含三个主要状态：等待状态、录音状态和播放状态。这些状态通过按钮的外观和行为来体现。

### 1. 等待状态（初始状态）
- **按钮外观**：
  - 颜色：蓝色 (#2196F3)
  - 文本：按下录音
  - 状态：可点击
- **触发条件**：
  - 程序启动时
  - 播放完成后
- **用户操作**：
  - 按住按钮进入录音状态

### 2. 录音状态
- **按钮外观**：
  - 颜色：红色 (#F44336)
  - 文本：录音中
  - 状态：按住状态
- **触发条件**：
  - 用户按住按钮时
- **功能**：
  - 开始录音
  - 实时显示音量
  - 支持 VAD（语音活动检测）
- **用户操作**：
  - 松开按钮进入播放状态

### 3. 播放状态
- **按钮外观**：
  - 颜色：灰色 (#9E9E9E)
  - 文本：播放中
  - 状态：禁用
- **触发条件**：
  - 用户松开按钮后
- **功能**：
  - 播放录制的音频
  - 显示播放波形
- **状态转换**：
  - 播放完成后自动返回等待状态

## 音频配置

### 基础配置
- 采样率：支持 16000Hz 和 48000Hz
- 通道数：支持单声道（1）和立体声（2）
- 位深度：支持 16bit、24bit 和 32bit
- 缓冲区大小：默认 1024 帧

### 设备配置
- 支持选择输入设备
- 支持选择输出设备
- 自动检测设备参数（采样率、通道数等）

### VAD 配置
- 支持语音活动检测
- 可配置 VAD 阈值（默认 0.5）
- 实时显示 VAD 状态

## 状态转换图

```
等待状态（蓝色）
    ↓ 按住按钮
录音状态（红色）
    ↓ 松开按钮
播放状态（灰色）
    ↓ 播放完成
等待状态（蓝色）
```

## 波形的显示

1. 在等待或者录音状态，实时显示音频源的波形。在用户切换音频源时，应该立即切换。这样可以方便用户知道这路音频是否有效或者有声音。
2. 在播放状态时，显示播放的音频文件的波形。

**注意：程序必须严格按照上述要求实现波形显示逻辑。** 

## 注意事项

1. 状态转换是即时的，确保用户体验流畅
2. 录音状态和播放状态之间没有中间状态
3. 播放完成后自动回到等待状态，无需用户操作
4. 在播放状态下，按钮完全禁用，防止用户干扰播放过程
5. 支持配置自动开始录音和最大录音时长
6. 支持保存和加载音频配置预设
7. 支持实时音频设备切换和参数调整 